<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Emergency Service</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100">

  <!-- Navbar -->
  <nav class="flex flex-col md:flex-row justify-between items-center px-4 md:px-6 py-3 shadow bg-white gap-3 md:gap-0">
    <div class="flex items-center space-x-2">
      <img src="assets/logo.png" alt="logo" class="w-8 h-8 rounded-full border">
      <span class="font-bold text-lg text-gray-800">Emergency Service</span>
    </div>

    <div class="flex items-center space-x-5">
      <!-- ‚ù§Ô∏è -->
      <div id="loveBtn" class="flex items-center space-x-1 cursor-pointer">
        <span class="text-red-500 text-xl">‚ù§Ô∏è</span>
        <span id="loveCount" class="text-gray-800 font-medium">0</span>
      </div>
      <!-- ü™ô -->
      <div class="flex items-center space-x-1 cursor-pointer">
        <img src="assets/coin.png" alt="coin" class="w-6 h-6">
        <span id="coinCount" class="text-gray-800 font-medium">100</span>
      </div>
      <!-- Copy -->
      <button id="copyBtn" class="bg-green-500 hover:bg-green-600 text-white font-medium px-4 py-1 rounded-full">
        0 Copy
      </button>
    </div>
  </nav>

  <!-- Banner -->
  <section class="bg-green-900 text-white py-8 text-center relative">
    <img src="assets/logo-dark.png" alt="Gov Logo" class="mx-auto w-20 h-20 mb-4 rounded-full border-2 border-white">
    <h1 class="text-2xl md:text-3xl font-bold mb-2">Emergency Service Directory</h1>
    <p class="text-sm md:text-base text-gray-200">
      Government Emergency Services at Your Fingertip ‚Äî 
      <span class="font-semibold">A Project by Government of the People‚Äôs Republic of Bangladesh</span>
    </p>
  </section>

  <!-- Main -->
  <div class="flex flex-col md:flex-row p-4 md:p-6 gap-4">
    
    <!-- Services -->
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 flex-1" id="cardGrid"></div>

    <!-- Call History -->
    <div class="w-full md:w-64 bg-white rounded-xl shadow p-4">
      <div class="flex justify-between items-center mb-2">
        <h2 class="font-bold text-gray-800">Call History</h2>
        <button onclick="clearHistory()" class="text-sm text-red-500">Clear</button>
      </div>
      <ul id="historyList" class="space-y-2 text-sm text-gray-700"></ul>
    </div>
  </div>

<script>
  let loves = 0;
  let coins = 100;
  let copies = 0;

  const loveCount = document.getElementById("loveCount");
  const coinCount = document.getElementById("coinCount");
  const copyBtn = document.getElementById("copyBtn");
  const cardGrid = document.getElementById("cardGrid");
  const loveBtn = document.getElementById("loveBtn");
  const historyList = document.getElementById("historyList");

  // Navbar ‚ù§Ô∏è
  loveBtn.addEventListener("click", () => {
    loves++;
    loveCount.textContent = loves;
  });

  // Navbar Copy
  copyBtn.addEventListener("click", () => {
    copies++;
    copyBtn.textContent = `${copies} Copy`;
    navigator.clipboard.writeText('Emergency Service Info').then(() => {
      alert('Text copied to clipboard!');
    });
  });

  // Services Array with logos
const services = [
    {name: "National Emergency Number", dept: "National Emergency", num: "999", icon: "assets/emergency.png"},
    {name: "Police Helpline Number", dept: "Police", num: "999", icon: "assets/police.png"},
    {name: "Fire Service Number", dept: "Fire Service", num: "999", icon: "assets/fire-service.png"},
    {name: "Ambulance Service", dept: "Ambulance", num: "1994-999999", icon: "assets/ambulance.png"},
    {name: "Women & Child Helpline", dept: "Women & Child Helpline", num: "109", icon: "assets/emergency.png"},
    {name: "Anti-Corruption Helpline", dept: "Anti-Corruption", num: "106", icon: "assets/emergency.png"},
    {name: "Electricity Helpline", dept: "Electricity Outage", num: "16216", icon: "assets/emergency.png"},
    {name: "Brac Helpline", dept: "Brac", num: "16445", icon: "assets/brac.png"},
    {name: "Bangladesh Railway Helpline", dept: "Bangladesh Railway", num: "163", icon: "assets/Bangladesh-Railway.png"}
  ];

  // Create Cards
  services.forEach(s => {
    const card = document.createElement("div");
    card.className = "bg-white rounded-xl shadow p-4 flex flex-col relative";

    card.innerHTML = `
      <button class="absolute top-2 right-2 text-gray-400 hover:text-red-500 text-xl favBtn">‚ô°</button>
      <div class="flex items-center space-x-2 mb-2">
        <img src="${s.icon}" alt="${s.name} Logo" class="w-12 h-12 rounded-full border"/>
        <div>
          <h2 class="font-bold text-gray-800 text-sm sm:text-base">${s.name}</h2>
          <p class="text-xs sm:text-sm text-gray-500">${s.dept}</p>
        </div>
      </div>
      <div class="text-xl sm:text-2xl font-bold mb-2">${s.num}</div>
      <div class="flex space-x-2 mt-auto">
        <button class="flex-1 border rounded-lg py-1 hover:bg-gray-100 copyNumberBtn text-xs sm:text-sm">üìã Copy</button>
        <button class="flex-1 bg-green-500 hover:bg-green-600 text-white rounded-lg py-1 text-xs sm:text-sm callNumberBtn">üìû Call</button>
      </div>
    `;

    // Favorite Toggle ‚ù§Ô∏è
    const favBtn = card.querySelector(".favBtn");
    favBtn.addEventListener("click", () => {
      if (favBtn.textContent === "‚ô°") {
        favBtn.textContent = "‚ù§Ô∏è";
        favBtn.classList.add("text-red-500");
        loves++;
      } else {
        favBtn.textContent = "‚ô°";
        favBtn.classList.remove("text-red-500");
        loves--;
      }
      loveCount.textContent = loves;
    });

    // Copy Number
    const copyNumberBtn = card.querySelector(".copyNumberBtn");
    copyNumberBtn.addEventListener("click", () => {
      copies++;
      copyBtn.textContent = `${copies} Copy`;
      navigator.clipboard.writeText(s.num);
      alert(`Number copied: ${s.name} (${s.num})`);
    });

    // Call Number
    const callNumberBtn = card.querySelector(".callNumberBtn");
    callNumberBtn.addEventListener("click", () => {
      if (coins < 20) {
        alert("Not enough coins to make a call!");
        return;
      }
      coins -= 20;
      coinCount.textContent = coins;

      alert(`Calling: ${s.name} (${s.num})`);

      const li = document.createElement("li");
      const time = new Date().toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'});
      li.textContent = `${s.name} - ${s.num} (${time})`;
      historyList.prepend(li);
    });

    cardGrid.appendChild(card);
  });

  // Clear History
  function clearHistory() {
    historyList.innerHTML = "";
  }
</script>

</body>
</html>
